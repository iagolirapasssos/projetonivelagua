(()=>{var e={apiKey:process.env.API_KEY_PLACEHOLDER,authDomain:process.env.AUTH_DOMAIN_PLACEHOLDER,databaseURL:process.env.DATABASE_URL_PLACEHOLDER,projectId:process.env.PROJECT_ID_PLACEHOLDER,storageBucket:process.env.STORAGE_BUCKET_PLACEHOLDER,messagingSenderId:process.env.MESSAGING_SENDER_ID_PLACEHOLDER,appId:process.env.APP_ID_PLACEHOLDER,measurementId:process.env.MEASUREMENT_ID_PLACEHOLDER},a=firebase.initializeApp(e),t=firebase.database(a),n=null,o=null;function r(e){var a=firebase.database().ref(t,"sensors/".concat(e));firebase.database().onValue(a,(function(a){var t=[],o=[];a.forEach((function(e){var a=e.val();t.push(a.altura),o.push(a.tempo)}));var r=document.getElementById("myChart").getContext("2d");n&&"function"==typeof n.destroy&&n.destroy(),n=new Chart(r,{type:"line",data:{labels:o,datasets:[{label:"Dados de ".concat(e),data:t,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}))}document.getElementById("sensorSelect").addEventListener("change",(function(e){r(e.target.value)}));var s=firebase.database().ref(t,"sensors");firebase.database().onValue(s,(function(e){var a=document.getElementById("sensorSelect");a.innerHTML="";var n,s=null;e.forEach((function(e){var t=e.key;s||(s=t);var n=document.createElement("option");n.value=t,n.textContent=t,a.appendChild(n)})),s&&(a.value=s,r(s),n=firebase.database().ref(t,"sensors"),firebase.database().onValue(n,(function(e){var a=[];e.forEach((function(e){var t=[],n=[];e.forEach((function(e){var a=e.val();t.push(a.altura),n.push(a.tempo)})),a.push({label:"Dados de ".concat(e.key),data:t.map((function(e,a){return{x:n[a],y:e}})),borderColor:"rgba(".concat(Math.floor(255*Math.random()),", ").concat(Math.floor(255*Math.random()),", ").concat(Math.floor(255*Math.random()),", 1)"),borderWidth:1,fill:!1,tension:.1})}));var t=document.getElementById("allSensorsChart").getContext("2d");o&&"function"==typeof o.destroy&&o.destroy(),o=new Chart(t,{type:"line",data:{datasets:a},options:{scales:{x:{type:"linear",position:"bottom"},y:{beginAtZero:!0}}}})})))}))})();